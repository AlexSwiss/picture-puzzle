<!DOCTYPE HTML>
<html>
  <head>
    <title>Picture Puzzle</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="../google-blockly-82871b3/blockly_compressed.js"></script>
    <script src="../google-blockly-82871b3/blocks_compressed.js"></script>
    <script src="../google-blockly-82871b3/msg/js/en.js"></script>
    <script src="../google-blockly-82871b3/javascript_compressed.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script>
    
    function startTimer(duration, display) {
    var timer = duration, minutes, seconds;
    setInterval(function () {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        display.textContent = minutes + ":" + seconds;

        if (--timer < 0) {
            timer = duration;
        }
    }, 1000);
}

window.onload = function () {
    var fiveMinutes = 60 * 3,
        display = document.querySelector('#time');
    startTimer(fiveMinutes, display);
};
</script>
    
  </head>
  <body>
    <div style="background: url(bg.jpg);">
    <h1 style="background: url(bg.jpg);">Picture Puzzle</h1>
    <h2>Match each of the images with their names and country</h2>
    <div><h3 style="color:red">Game ends in <span id="time">03:00</span> minutes!</h3></div>
    <div id="blocklyDiv" style="height: 480px; width: 1200px; background: url(bg.jpg);" ></div>
    <xml id="toolbox" style="display: none">        
            <category name="Choose Blocks">
                    <block type="image"></block>
                    <block type="north_america"></block>
                    <block type="asia"></block>
                    <block type="austrialia"></block>
                    <block type="africa"></block>
                    <block type="africa_text"></block>
                    <block type="asia_text"></block>
                    <block type="austrialia_text"></block>
                    <block type="northamerica_text"></block>
                    <block type="mexico"></block>
                    <block type="fiji"></block>
                    <block type="nigeria"></block>
                    <block type="japan"></block>
                  </category>
                  
          </xml>
      <button onclick="runJS()">Run Code</button>
    </div>
  </body>
  <script>
    var workspace = Blockly.inject('blocklyDiv',
        {toolbox: document.getElementById('toolbox')});
  </script>
    <script>
        function runJS() {
            Blockly.JavaScript.addReservedWords('code');
            var code = Blockly.JavaScript.workspaceToCode();
            alert(code);
            try {
            eval(code);
            } catch (e) {
            alert(e);
            }
        }
        </script>
        <script>
            Blockly.Blocks['image'] = {
    init: function() {
        this.appendValueInput("Image")
            .setCheck("String")
            .setAlign(Blockly.ALIGN_CENTRE)
            .appendField("Image");
        this.appendValueInput("Name")
            .setCheck("String")
            .appendField("Name:");
        this.appendValueInput("Country")
            .setCheck(null)
            .appendField("Country");
        this.setOutput(true, null);
        this.setColour(230);
    this.setTooltip("");
    this.setHelpUrl("");
    }
    };

    Blockly.JavaScript['image'] = function(block) {
  var value_image = Blockly.JavaScript.valueToCode(block, 'Image', Blockly.JavaScript.ORDER_ATOMIC);
  var value_name = Blockly.JavaScript.valueToCode(block, 'Name', Blockly.JavaScript.ORDER_ATOMIC);
  var value_country = Blockly.JavaScript.valueToCode(block, 'Country', Blockly.JavaScript.ORDER_ATOMIC);
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

    </script>

    <script>
          
          Blockly.Blocks['north_america'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(new Blockly.FieldImage("north-america.png", 100, 100, "*"));
    this.setOutput(true, null);
    this.setColour(330);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['north_america'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

Blockly.Blocks['asia'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(new Blockly.FieldImage("asia.png", 100, 100, "*"));
    this.setOutput(true, null);
    this.setColour(260);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['asia'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

Blockly.Blocks['austrialia'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(new Blockly.FieldImage("austrialia.png", 100, 100, "*"));
    this.setOutput(true, null);
    this.setColour(260);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['austrialia'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

Blockly.Blocks['africa'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(new Blockly.FieldImage("africa.png", 100, 100, "*"));
    this.setOutput(true, null);
    this.setColour(260);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['africa'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

//Africa text

Blockly.Blocks['africa_text'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Africa");
    this.setOutput(true, null);
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['africa_text'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

//Asia text


Blockly.Blocks['asia_text'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Asia");
    this.setOutput(true, null);
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['asia_text'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

//north america text


Blockly.Blocks['northamerica_text'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("North America");
    this.setOutput(true, null);
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['northamerica_text'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

//austriali text

Blockly.Blocks['austrialia_text'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Austrialia");
    this.setOutput(true, null);
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['austrialia_text'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

//africa countries

//Nigeria

Blockly.Blocks['nigeria'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Nigeria");
        this.setOutput(true, null);
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['nigeria'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};



//Asia countries

//Japan

Blockly.Blocks['japan'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Japan");
        this.setOutput(true, null);
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['japan'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];;
};


//countries in austrialia

//fiji

Blockly.Blocks['fiji'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Fiji");
        this.setOutput(true, null);
    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['fiji'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};

//counties in north america

//Mexico

Blockly.Blocks['mexico'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Mexico");
        this.setOutput(true, null);

    this.setColour(230);
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.JavaScript['mexico'] = function(block) {
  // TODO: Assemble JavaScript into code variable.
  var code = '...';
  // TODO: Change ORDER_NONE to the correct strength.
  return [code, Blockly.JavaScript.ORDER_NONE];
};
          </script>
</html>
